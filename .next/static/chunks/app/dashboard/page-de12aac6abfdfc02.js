(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{4070:(e,t,r)=>{"use strict";r.d(t,{OddsTable:()=>E});var n=r(95155),a=r(12115),l=r(59434);function s(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,n.jsx)("table",{"data-slot":"table",className:(0,l.cn)("w-full caption-bottom text-sm",t),...r})})}function i(e){let{className:t,...r}=e;return(0,n.jsx)("thead",{"data-slot":"table-header",className:(0,l.cn)("[&_tr]:border-b",t),...r})}function o(e){let{className:t,...r}=e;return(0,n.jsx)("tbody",{"data-slot":"table-body",className:(0,l.cn)("[&_tr:last-child]:border-0",t),...r})}function d(e){let{className:t,...r}=e;return(0,n.jsx)("tr",{"data-slot":"table-row",className:(0,l.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...r})}function c(e){let{className:t,...r}=e;return(0,n.jsx)("th",{"data-slot":"table-head",className:(0,l.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})}function u(e){let{className:t,...r}=e;return(0,n.jsx)("td",{"data-slot":"table-cell",className:(0,l.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...r})}function m(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card",className:(0,l.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function p(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-header",className:(0,l.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function f(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-title",className:(0,l.cn)("leading-none font-semibold",t),...r})}function x(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-content",className:(0,l.cn)("px-6",t),...r})}var h=r(93081),g=r(66474),b=r(5196);let y=h.bL;h.YJ;let v=h.WT,j=a.forwardRef((e,t)=>{let{className:r,children:a,...s}=e;return(0,n.jsxs)(h.l9,{ref:t,className:(0,l.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...s,children:[a,(0,n.jsx)(h.In,{asChild:!0,children:(0,n.jsx)(g.A,{className:"h-4 w-4 opacity-50"})})]})});j.displayName=h.l9.displayName;let N=a.forwardRef((e,t)=>{let{className:r,children:a,position:s="popper",...i}=e;return(0,n.jsx)(h.ZL,{children:(0,n.jsx)(h.UC,{ref:t,className:(0,l.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:s,...i,children:(0,n.jsx)(h.LM,{className:(0,l.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a})})})});N.displayName=h.UC.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(h.JU,{ref:t,className:(0,l.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...a})}).displayName=h.JU.displayName;let k=a.forwardRef((e,t)=>{let{className:r,children:a,...s}=e;return(0,n.jsxs)(h.q7,{ref:t,className:(0,l.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...s,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(h.VF,{children:(0,n.jsx)(b.A,{className:"h-4 w-4"})})}),(0,n.jsx)(h.p4,{children:a})]})});k.displayName=h.q7.displayName,a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(h.wv,{ref:t,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",r),...a})}).displayName=h.wv.displayName,(0,r(74466).F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});var w=r(75143),S=r(50402);r(78266);let A=[{id:"nba",name:"NBA"},{id:"nfl",name:"NFL"},{id:"mlb",name:"MLB"},{id:"nhl",name:"NHL"},{id:"soccer",name:"Soccer"}],_=[{id:"h2h",name:"Money Line"},{id:"spreads",name:"Spread"},{id:"totals",name:"Totals"}];function O(e){let{options:t,selected:r,onChange:l}=e,[s,i]=a.useState(!1);return(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("button",{type:"button",className:"flex items-center border rounded px-3 py-2 min-w-[160px] bg-white",onClick:()=>i(e=>!e),children:[(0,n.jsx)("span",{className:"truncate flex-1 text-left",children:0===r.length?"Select sportsbooks":r.length===t.length?"All Sportsbooks":t.filter(e=>r.includes(e.key)).map(e=>e.title).join(", ")}),(0,n.jsx)(g.A,{className:"ml-2 h-4 w-4"})]}),s&&(0,n.jsxs)("div",{className:"absolute z-10 mt-1 w-full bg-white border rounded shadow-lg max-h-60 overflow-auto",children:[(0,n.jsx)("div",{className:"p-2",children:(0,n.jsx)("button",{className:"w-full text-left px-2 py-1 hover:bg-gray-100 rounded text-sm",onClick:()=>l(t.map(e=>e.key)),children:(0,n.jsxs)("span",{className:"flex items-center",children:[(0,n.jsx)(b.A,{className:"mr-2 h-4 w-4 ".concat(r.length===t.length?"":"invisible")}),"All"]})})}),t.map(e=>(0,n.jsx)("button",{className:"w-full text-left px-2 py-1 hover:bg-gray-100 rounded text-sm",onClick:()=>{r.includes(e.key)?l(r.filter(t=>t!==e.key)):l([...r,e.key])},children:(0,n.jsxs)("span",{className:"flex items-center",children:[(0,n.jsx)(b.A,{className:"mr-2 h-4 w-4 ".concat(r.includes(e.key)?"":"invisible")}),e.title]})},e.key))]})]})}function C(e){if("—"===e||"N/A"===e)return e;let t=Number(e);return!isNaN(t)&&t>0?"+".concat(e):e}function L(e,t,r,n){if("—"===e||"N/A"===e||"—"===t||"N/A"===t||e===t)return"";let a=Number(e),l=Number(t);if(isNaN(a)||isNaN(l))return"";if("price"===r){if(l>0&&a>l)return"bg-green-100 text-green-800";if(l>0&&a<l)return"bg-red-100 text-red-800";if(l<0&&a>l)return"bg-green-100 text-green-800";if(l<0&&a<l)return"bg-red-100 text-red-800"}else if("point"===r){if("home"===n||"over"===n){if(a>l)return"bg-green-100 text-green-800";if(a<l)return"bg-red-100 text-red-800"}else if("away"===n||"under"===n){if(a<l)return"bg-green-100 text-green-800";if(a>l)return"bg-red-100 text-red-800"}}return""}function E(){let[e,t]=(0,a.useState)([]),[r,l]=(0,a.useState)(!0),[h,g]=(0,a.useState)(null),[b,E]=(0,a.useState)("nba"),[M,R]=(0,a.useState)("h2h"),[U]=(0,a.useState)(_),[T,F]=(0,a.useState)([]);(0,w.FR)((0,w.MS)(w.AN),(0,w.MS)(w.uN,{coordinateGetter:S.JR}));let z=["pinnacle","betonlineag","fanduel","draftkings","fanatics","caesars","betmgm"];(0,a.useEffect)(()=>{(async()=>{try{l(!0);let e=await fetch("/api/odds-api?sport=".concat(b,"&markets=").concat(M,"&includeLinks=true"));if(!e.ok)throw Error("Failed to fetch odds");let r=await e.json();t(r)}catch(e){g(e instanceof Error?e.message:"An error occurred")}finally{l(!1)}})()},[b,M]);let H=a.useMemo(()=>{let t=new Map;e.forEach(e=>{e.bookmakers.forEach(e=>{!t.has(e.key)&&z.includes(e.key)&&t.set(e.key,{key:e.key,title:e.title,url:e.url})})});let r=Array.from(t.values());return r.sort((e,t)=>"pinnacle"===e.key?-1:+("pinnacle"===t.key)),r},[e]);return(a.useEffect(()=>{H.length>0&&0===T.length&&F(H.map(e=>e.key))},[H,T.length]),r)?(0,n.jsx)("div",{children:"Loading odds..."}):h?(0,n.jsxs)("div",{children:["Error: ",h]}):(0,n.jsxs)(m,{children:[(0,n.jsxs)(p,{className:"flex flex-row items-center justify-between",children:[(0,n.jsx)(f,{children:"Live Odds"}),(0,n.jsxs)("div",{className:"flex gap-4 flex-wrap",children:[(0,n.jsxs)(y,{value:b,onValueChange:E,children:[(0,n.jsx)(j,{className:"w-[180px]",children:(0,n.jsx)(v,{placeholder:"Select sport"})}),(0,n.jsx)(N,{children:A.map(e=>(0,n.jsx)(k,{value:e.id,children:e.name},e.id))})]}),(0,n.jsxs)(y,{value:M,onValueChange:R,children:[(0,n.jsx)(j,{className:"w-[140px]",children:(0,n.jsx)(v,{placeholder:"Select market"})}),(0,n.jsx)(N,{children:_.map(e=>(0,n.jsx)(k,{value:e.id,children:e.name},e.id))})]}),(0,n.jsx)(O,{options:H,selected:T,onChange:F})]})]}),(0,n.jsx)(x,{children:(0,n.jsx)("div",{className:"overflow-x-auto -mx-2 px-2",children:(0,n.jsxs)(s,{children:[(0,n.jsx)(i,{children:(0,n.jsxs)(d,{children:[(0,n.jsx)(c,{children:"Sport"}),(0,n.jsx)(c,{children:"Home Team"}),(0,n.jsx)(c,{children:"Away Team"}),(0,n.jsx)(c,{children:"Side"}),H.filter(e=>T.includes(e.key)).map(e=>(0,n.jsx)(c,{className:"text-center".concat("pinnacle"===e.key?" bg-yellow-50":""),children:e.url?(0,n.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:e.title}):e.title},e.key)),(0,n.jsx)(c,{children:"Start Time"})]})}),(0,n.jsx)(o,{children:e.map(e=>{let t=[];return"totals"===M?(t.push({label:"Over",getOdds:t=>{let r=e.bookmakers.find(e=>e.key===t.key),n=null==r?void 0:r.markets.find(e=>"totals"===e.key),a=null==n?void 0:n.outcomes.find(e=>"Over"===e.name);return{point:(null==a?void 0:a.point)!==void 0?String(a.point):"—",price:(null==a?void 0:a.price)!==void 0?String(a.price):"N/A",url:null==r?void 0:r.url}}}),t.push({label:"Under",getOdds:t=>{let r=e.bookmakers.find(e=>e.key===t.key),n=null==r?void 0:r.markets.find(e=>"totals"===e.key),a=null==n?void 0:n.outcomes.find(e=>"Under"===e.name);return{point:(null==a?void 0:a.point)!==void 0?String(a.point):"—",price:(null==a?void 0:a.price)!==void 0?String(a.price):"N/A",url:null==r?void 0:r.url}}})):(t.push({label:"Home",getOdds:t=>{let r=e.bookmakers.find(e=>e.key===t.key);if("h2h"===M){var n;let t=null==r?void 0:r.markets.find(e=>"h2h"===e.key),a=null==t||null==(n=t.outcomes.find(t=>t.name===e.home_team))?void 0:n.price;return{point:"—",price:void 0!==a?String(a):"N/A",url:null==r?void 0:r.url}}{let t=null==r?void 0:r.markets.find(e=>"spreads"===e.key),n=null==t?void 0:t.outcomes.find(t=>t.name===e.home_team);return{point:(null==n?void 0:n.point)!==void 0?String(n.point):"—",price:(null==n?void 0:n.price)!==void 0?String(n.price):"N/A",url:null==r?void 0:r.url}}}}),t.push({label:"Away",getOdds:t=>{let r=e.bookmakers.find(e=>e.key===t.key);if("h2h"===M){var n;let t=null==r?void 0:r.markets.find(e=>"h2h"===e.key),a=null==t||null==(n=t.outcomes.find(t=>t.name===e.away_team))?void 0:n.price;return{point:"—",price:void 0!==a?String(a):"N/A",url:null==r?void 0:r.url}}{let t=null==r?void 0:r.markets.find(e=>"spreads"===e.key),n=null==t?void 0:t.outcomes.find(t=>t.name===e.away_team);return{point:(null==n?void 0:n.point)!==void 0?String(n.point):"—",price:(null==n?void 0:n.price)!==void 0?String(n.price):"N/A",url:null==r?void 0:r.url}}}})),t.map((t,r)=>(0,n.jsxs)(d,{children:[0===r&&(0,n.jsx)(u,{rowSpan:2,children:e.sport_title}),0===r&&(0,n.jsx)(u,{rowSpan:2,children:e.home_team}),0===r&&(0,n.jsx)(u,{rowSpan:2,children:e.away_team}),(0,n.jsx)(u,{children:t.label}),H.filter(e=>T.includes(e.key)).map(e=>{let r=t.getOdds(e),a=H.find(e=>"pinnacle"===e.key),l=a?t.getOdds(a):{point:"—",price:"N/A"},s="home";"Home"===t.label?s="home":"Away"===t.label?s="away":"Over"===t.label?s="over":"Under"===t.label&&(s="under");let i="pinnacle"!==e.key?L(r.point,l.point,"point",s):"",o="pinnacle"!==e.key?L(r.price,l.price,"price",s):"",d=(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center rounded border border-gray-300 px-2 py-1 bg-white hover:bg-gray-100 transition cursor-pointer w-20 min-w-[5rem] max-w-[5rem] text-xs md:text-sm md:px-2 md:py-1",children:[(0,n.jsx)("span",{className:"font-medium leading-tight ".concat(i),children:C(r.point)}),(0,n.jsx)("span",{className:"text-gray-700 leading-tight ".concat(o),children:C(r.price)})]});return r.url?(0,n.jsx)(u,{className:"text-center p-1".concat("pinnacle"===e.key?" bg-yellow-50":""),children:(0,n.jsx)("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"none"},children:d})},e.key):(0,n.jsx)(u,{className:"text-center p-1".concat("pinnacle"===e.key?" bg-yellow-50":""),children:d},e.key)}),0===r&&(0,n.jsx)(u,{rowSpan:2,children:new Date(e.commence_time).toLocaleString()})]},e.id+"-"+t.label))})})]})})})]})}},4983:(e,t,r)=>{Promise.resolve().then(r.bind(r,4070))},59434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var n=r(52596),a=r(39688);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,n.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[284,830,415,678,441,684,358],()=>t(4983)),_N_E=e.O()}]);